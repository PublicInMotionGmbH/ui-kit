@import './config'

@include module('text-input')
  box-sizing: border-box
  padding: $input-padding
  border: 1px solid $input-border-color
  border-radius: $input-border-radius
  background-color: $input-background-color
  color: $input-text-color
  outline: none
  width: 100%

  &__wrapper
    display: block
    position: relative
    font-size: $input-font-size

  &__suffix
    display: block
    position: absolute
    top: 50%
    transform: translateY(-50%)
    white-space: nowrap
    pointer-events: none

    &:before
      content: '\00a0'
      display: inline-block

  // Build left & right addons

  &__left,
  &__right
    position: absolute
    font-size: $input-icon-size
    white-space: nowrap
    max-height: 100%
    color: $input-icon-color
    top: 50%
    transform: translateY(-50%)

  &__left
    left: $input-padding

  &__right
    right: $input-padding

  &__wrapper--with-left &
    padding-left: 1.5 * $input-padding + $input-icon-width

  &__wrapper--with-right &
    padding-right: 1.5 * $input-padding + $input-icon-width

  // Build styling for error

  &__wrapper--error &
    border-color: $input-error-color
    color: $input-error-color

  &__wrapper--error &::placeholder
    color: $input-error-color

  // Handle small size

  &__wrapper--small
    font-size: $input-small-font-size

  &__wrapper--small &
    padding: $input-small-padding

  &__wrapper--small &__left
    left: $input-small-padding

  &__wrapper--small#{&}__wrapper--with-left &
    padding-left: 1.5 * $input-small-padding + $input-icon-width

  &__wrapper--small &__right
    right: $input-small-padding

  &__wrapper--small#{&}__wrapper--with-right &
    padding-right: 1.5 * $input-small-padding + $input-icon-width

  // Handle suffix correctly

  &__wrapper--empty &__suffix
    display: none

  // Handle icons correctly on RTL

  [dir=rtl] &__left
    left: auto
    right: $input-padding

  [dir=rtl] &__right
    right: auto
    left: $input-padding

  [dir=rtl] &__wrapper--with-left &
    padding-left: $input-padding
    padding-right: 1.5 * $input-padding + $input-icon-width

  [dir=rtl] &__wrapper--with-right &
    padding-right: $input-padding
    padding-left: 1.5 * $input-padding + $input-icon-width

  [dir=rtl] &__wrapper--with-right#{&}__wrapper--with-left &
    padding-right: 1.5 * $input-padding + $input-icon-width
    padding-left: 1.5 * $input-padding + $input-icon-width

  [dir=rtl] &__wrapper--small &__left
    right: $input-small-padding

  [dir=rtl] &__wrapper--small#{&}__wrapper--with-left &
    padding-left: $input-small-padding
    padding-right: 1.5 * $input-small-padding + $input-icon-width

  [dir=rtl] &__wrapper--small &__right
    left: $input-small-padding

  [dir=rtl] &__wrapper--small#{&}__wrapper--with-right &
    padding-right: $input-small-padding
    padding-left: 1.5 * $input-small-padding + $input-icon-width

  [dir=rtl] &__wrapper--small#{&}__wrapper--with-right#{&}__wrapper--with-left &
    padding-right: 1.5 * $input-small-padding + $input-icon-width
    padding-left: 1.5 * $input-small-padding + $input-icon-width
