@import './config'

@include module('text-input')
  display: block
  position: relative
  font-size: $input-font-size

  &__input
    box-sizing: border-box
    padding: $input-padding
    border: 1px solid $input-border-color
    border-radius: $input-border-radius
    background-color: $input-background-color
    color: $input-text-color
    outline: none
    width: 100%

  &__suffix
    display: block
    position: absolute
    top: 50%
    transform: translateY(-50%)
    white-space: nowrap
    pointer-events: none

    &:before
      content: '\00a0'
      display: inline-block

  // Build left & right addons

  &__left,
  &__right
    position: absolute
    font-size: $input-icon-size
    white-space: nowrap
    max-height: 100%
    color: $input-icon-color
    top: 50%
    transform: translateY(-50%)

  &__left
    left: $input-padding

  &__right
    right: $input-padding

  &--with-left &__input
    padding-left: 1.5 * $input-padding + $input-icon-width

  &--with-right &__input
    padding-right: 1.5 * $input-padding + $input-icon-width

  // Build styling for error

  &--error &__input
    border-color: $input-error-color
    color: $input-error-color

  &--error &__input::placeholder
    color: $input-error-color

  // Handle suffix correctly

  &--empty &__suffix
    display: none

  // Handle icons correctly on RTL

  [dir=rtl] &__left
    left: auto
    right: $input-padding

  [dir=rtl] &__right
    right: auto
    left: $input-padding

  [dir=rtl] &--with-left &__input
    padding-left: $input-padding
    padding-right: 1.5 * $input-padding + $input-icon-width

  [dir=rtl] &--with-right &__input
    padding-right: $input-padding
    padding-left: 1.5 * $input-padding + $input-icon-width

  [dir=rtl] &--with-right#{&}--with-left &__input
    padding-right: 1.5 * $input-padding + $input-icon-width
    padding-left: 1.5 * $input-padding + $input-icon-width
